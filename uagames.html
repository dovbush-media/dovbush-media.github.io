---
layout: default
title: –ö–∞—Ç–∞–ª–æ–≥ —É–∫—Ä–∞—ó–Ω—Å—å–∫–∏—Ö —ñ–≥–æ—Ä —É Steam 2026 ‚Äî DovbushHub
description: –ü–æ–≤–Ω–∏–π –∫–∞—Ç–∞–ª–æ–≥ –≤—ñ–¥–µ–æ—ñ–≥–æ—Ä –≤—ñ–¥ —É–∫—Ä–∞—ó–Ω—Å—å–∫–∏—Ö —Ä–æ–∑—Ä–æ–±–Ω–∏–∫—ñ–≤ —É Steam. –ê–∫—Ç—É–∞–ª—å–Ω—ñ —Ü—ñ–Ω–∏, —Ä–µ–π—Ç–∏–Ω–≥–∏, –∑–Ω–∏–∂–∫–∏, —Ñ—ñ–ª—å—Ç—Ä–∏ –ø–æ –∂–∞–Ω—Ä–∞—Ö ‚Äî –ø—ñ–¥—Ç—Ä–∏–º–∞–π –≤—ñ—Ç—á–∏–∑–Ω—è–Ω–∏–π –≥–µ–π–º–¥–µ–≤ —Ä–∞–∑–æ–º –∑ DovbushHub.
keywords: —É–∫—Ä–∞—ó–Ω—Å—å–∫—ñ —ñ–≥—Ä–∏ Steam, —ñ–≥—Ä–∏ –≤—ñ–¥ —É–∫—Ä–∞—ó–Ω—Å—å–∫–∏—Ö —Ä–æ–∑—Ä–æ–±–Ω–∏–∫—ñ–≤, –∫–∞—Ç–∞–ª–æ–≥ —ñ–≥–æ—Ä –£–∫—Ä–∞—ó–Ω–∞, –ø—ñ–¥—Ç—Ä–∏–º–∞—Ç–∏ —É–∫—Ä–∞—ó–Ω—Å—å–∫–∏—Ö —Ä–æ–∑—Ä–æ–±–Ω–∏–∫—ñ–≤
---
<style>
:root {
  --c-surface: #161b22;
  --c-card:    #1c2333;
  --c-border:  rgba(255,255,255,0.07);
  --c-accent:  #58a6ff;
  --c-green:   #3fb950;
  --c-red:     #f85149;
  --c-gold:    #ffd700;
  --c-text:    #e6edf3;
  --c-muted:   #8b949e;
  --disc-hist: #00a2ff;
  --disc-2y:   #4c6b22;
  --disc-reg:  #6b2222;
}

.cat-wrap {
  max-width: 1160px;
  margin: 0 auto;
  padding: 24px 14px 60px;
  font-family: 'Inter', sans-serif;
  color: var(--c-text);
}

/* –®–ê–ü–ö–ê */
.cat-hero {
  display: flex; align-items: flex-start;
  justify-content: space-between; gap: 12px;
  margin-bottom: 18px; flex-wrap: wrap;
}
.cat-hero__title {
  font-size: clamp(20px,4vw,28px); font-weight: 800; margin: 0 0 4px;
  background: linear-gradient(90deg,#fff 0%,var(--c-accent) 100%);
  -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;
}
.cat-hero__sub { font-size: 13px; color: var(--c-muted); margin: 0; }
.cat-count {
  background: var(--c-surface); border: 1px solid var(--c-border);
  border-radius: 20px; padding: 5px 14px; font-size: 13px; color: var(--c-muted);
  white-space: nowrap; align-self: center;
}
.cat-count span { color: var(--c-accent); font-weight: 700; }

/* –õ–ï–ì–ï–ù–î–ê –ó–ù–ò–ñ–û–ö */
.disc-legend {
  display: flex; gap: 12px; flex-wrap: wrap; align-items: center;
  background: var(--c-surface); border: 1px solid var(--c-border);
  border-radius: 8px; padding: 9px 14px; margin-bottom: 14px; font-size: 12px;
}
.disc-legend__title { font-weight: 700; color: var(--c-text); }
.disc-pip { display: inline-flex; align-items: center; gap: 5px; font-size: 11px; font-weight: 600; }
.disc-pip::before { content:''; display:inline-block; width:10px; height:10px; border-radius:2px; }
.disc-pip--hist { color:var(--disc-hist); } .disc-pip--hist::before { background:var(--disc-hist); }
.disc-pip--2y   { color:#beee11; }          .disc-pip--2y::before   { background:var(--disc-2y); }
.disc-pip--reg  { color:#e06060; }           .disc-pip--reg::before  { background:var(--disc-reg); }

/* TOOLBAR */
.cat-toolbar {
  background: var(--c-surface); border: 1px solid var(--c-border);
  border-radius: 10px; padding: 14px; margin-bottom: 14px;
}
.cat-search-row { display: flex; gap: 8px; flex-wrap: wrap; }
.cat-search {
  flex: 1; min-width: 160px; background: var(--c-card);
  border: 1px solid var(--c-border); border-radius: 7px; color: var(--c-text);
  font-size: 14px; padding: 9px 12px 9px 36px; outline: none; transition: border-color .2s;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='%238b949e' viewBox='0 0 16 16'%3E%3Cpath d='M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.099zm-5.442 1.656a5.5 5.5 0 1 1 0-11 5.5 5.5 0 0 1 0 11z'/%3E%3C/svg%3E");
  background-repeat: no-repeat; background-position: 11px center;
}
.cat-search:focus { border-color: var(--c-accent); }
.cat-search::placeholder { color: var(--c-muted); }
.btn-toggle-filters {
  background: var(--c-card); border: 1px solid var(--c-border); border-radius: 7px;
  color: var(--c-muted); font-size: 13px; padding: 9px 14px; cursor: pointer;
  display: flex; align-items: center; gap: 6px; transition: all .2s; white-space: nowrap;
}
.btn-toggle-filters:hover { border-color: var(--c-accent); color: var(--c-text); }
.btn-toggle-filters.active { border-color: var(--c-accent); color: var(--c-accent); }
.tf-icon { transition: transform .25s; display: inline-block; }
.btn-toggle-filters.active .tf-icon { transform: rotate(180deg); }

.cat-filters {
  display: none;
  grid-template-columns: repeat(auto-fill, minmax(160px,1fr));
  gap: 14px; padding-top: 16px;
  border-top: 1px solid var(--c-border); margin-top: 14px;
}
.cat-filters.show { display: grid; }
.flt-group { display: flex; flex-direction: column; gap: 6px; }
.flt-label {
  font-size: 10px; font-weight: 700; text-transform: uppercase; letter-spacing: .8px;
  color: var(--c-muted);
  display: flex; align-items: center; gap: 5px;
}
.flt-label-icon { opacity: .7; }
.flt-select, .flt-input {
  background: var(--c-card); border: 1px solid var(--c-border); border-radius: 7px;
  color: var(--c-text); font-size: 13px; padding: 8px 11px; outline: none; width: 100%;
  transition: border-color .2s, box-shadow .2s; box-sizing: border-box;
}
.flt-select:focus, .flt-input:focus {
  border-color: var(--c-accent);
  box-shadow: 0 0 0 3px rgba(88,166,255,.1);
}
.flt-select option { background: #1c2333; }
.flt-price-row { display: flex; gap: 5px; }
.flt-price-row .flt-input { min-width: 0; }
.flt-range-wrap { display: flex; flex-direction: column; gap: 3px; }
.flt-range { -webkit-appearance:none; width:100%; height:4px; border-radius:2px; background:var(--c-card); outline:none; cursor:pointer; }
.flt-range::-webkit-slider-thumb { -webkit-appearance:none; width:15px; height:15px; border-radius:50%; background:var(--c-accent); cursor:pointer; }
.flt-range-val { display:flex; justify-content:flex-end; font-size:11px; color:var(--c-accent); font-weight:700; }
.flt-chips { display: flex; gap: 5px; flex-wrap: wrap; }
.flt-chip {
  padding: 4px 10px; border-radius: 20px; border: 1px solid var(--c-border);
  background: var(--c-card); color: var(--c-muted); font-size: 11px; cursor: pointer; transition: all .18s;
}
.flt-chip:hover { border-color: var(--c-accent); color: var(--c-text); }
.flt-chip.active { background: rgba(88,166,255,.12); border-color: var(--c-accent); color: var(--c-accent); font-weight: 700; }
.btn-reset {
  background: transparent; border: 1px solid var(--c-border); border-radius: 6px;
  color: var(--c-muted); font-size: 12px; padding: 7px 12px; cursor: pointer; transition: all .2s;
}
.btn-reset:hover { border-color: var(--c-red); color: var(--c-red); }

/* –°–û–†–¢–£–í–ê–ù–ù–Ø */
.cat-sort-row { display: flex; align-items: center; gap: 6px; margin-bottom: 12px; flex-wrap: wrap; }
/* Per-page selector */
.per-page-wrap { display:flex; align-items:center; gap:6px; margin-left:auto; }
.per-page-sel {
  background: var(--c-card); border: 1px solid var(--c-border); border-radius:7px;
  color: var(--c-text); font-size:13px; padding:7px 10px; cursor:pointer; outline:none;
  transition: border-color .2s;
}
.per-page-sel:focus, .per-page-sel:hover { border-color: var(--c-accent); }
/* Pagination */
.pagination-wrap {
  display: flex; align-items:center; justify-content:center;
  gap: 6px; flex-wrap: wrap;
  margin: 24px 0 8px; padding-top: 16px;
  border-top: 1px solid var(--c-border);
}
.pg-btn {
  min-width: 36px; height: 36px; padding: 0 10px;
  background: var(--c-card); border: 1px solid var(--c-border);
  border-radius: 7px; color: var(--c-muted); font-size:13px; font-weight:600;
  cursor:pointer; transition: all .18s; display:flex; align-items:center; justify-content:center;
}
.pg-btn:hover:not(:disabled) { border-color: var(--c-accent); color: var(--c-accent); background: rgba(88,166,255,.07); }
.pg-btn.active { background: var(--c-accent); border-color: var(--c-accent); color: #0d1117; }
.pg-btn:disabled { opacity:.35; cursor:not-allowed; }
.pg-ellipsis { color: var(--c-muted); font-size:13px; padding: 0 4px; }
.sort-label { font-size: 11px; color: var(--c-muted); text-transform: uppercase; letter-spacing: .5px; font-weight: 700; }
.sort-btn {
  background: var(--c-card);
  border: 1px solid var(--c-border);
  border-radius: 7px;
  color: var(--c-muted);
  font-size: 12px;
  padding: 6px 13px;
  cursor: pointer;
  transition: all .18s;
  display: inline-flex;
  align-items: center;
  gap: 5px;
  font-weight: 500;
}
.sort-btn:hover { border-color: rgba(88,166,255,.5); color: var(--c-text); background: rgba(88,166,255,.06); }
.sort-btn.active {
  background: rgba(88,166,255,.14);
  border-color: var(--c-accent);
  color: var(--c-accent);
  font-weight: 700;
  box-shadow: 0 0 0 1px rgba(88,166,255,.2);
}
.sort-btn .sort-dir-icon { font-size: 10px; opacity: .8; }

/* LIST CARDS */
.game-card {
  background: var(--c-surface); border: 1px solid var(--c-border); border-radius: 10px;
  margin-bottom: 7px; cursor: pointer; transition: all .2s;
  overflow: hidden; display: flex; align-items: stretch;
}
.game-card:hover {
  border-color: rgba(88,166,255,.35); background: var(--c-card);
  box-shadow: 0 4px 18px rgba(0,0,0,.4); transform: translateX(3px);
}
.gc-img { width: 140px; min-height: 78px; max-height: 90px; object-fit: cover; flex-shrink: 0; border-radius: 10px 0 0 10px; }
.gc-body { flex: 1; padding: 10px 14px; display: flex; flex-direction: column; justify-content: center; gap: 5px; min-width: 0; }
.gc-title { font-size: 14px; font-weight: 700; color: var(--c-text); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.gc-meta { display: flex; gap: 10px; flex-wrap: wrap; align-items: center; }
.gc-genre { font-size: 11px; color: var(--c-muted); }
.gc-year { font-size: 11px; color: var(--c-muted); background: rgba(255,255,255,.05); padding: 2px 7px; border-radius: 10px; }
.badge-ea { font-size: 10px; font-weight: 700; padding: 2px 6px; border-radius: 3px; background: rgba(0,87,183,.4); color: #67c1f5; border: 1px solid rgba(0,87,183,.5); }
.rating-dot { display: inline-flex; align-items: center; gap: 4px; font-size: 11px; font-weight: 700; }
.rating-dot::before { content:''; width:7px; height:7px; border-radius:50%; display:block; }
.rating-dot.green  { color:#3fb950; } .rating-dot.green::before  { background:#3fb950; }
.rating-dot.yellow { color:#d29922; } .rating-dot.yellow::before { background:#d29922; }
.rating-dot.red    { color:#f85149; } .rating-dot.red::before    { background:#f85149; }
.rating-dot.none   { color:var(--c-muted); } .rating-dot.none::before { background:var(--c-muted); }
.gc-right { display: flex; flex-direction: row; align-items: center; justify-content: flex-end; gap: 7px; padding: 10px 14px 10px 6px; flex-shrink: 0; min-width: 130px; flex-wrap: wrap; }
.price-main { font-size: 15px; font-weight: 800; color: var(--c-text); white-space: nowrap; }
.price-old  { font-size: 11px; color: var(--c-muted); text-decoration: line-through; white-space: nowrap; }
.price-col  { display: flex; flex-direction: column; align-items: flex-end; gap: 1px; }
.disc-box   { font-size: 11px; font-weight: 800; padding: 2px 6px; border-radius: 3px; }
.disc-box.hist { background: var(--disc-hist); color: #fff; }
.disc-box.yr2  { background: var(--disc-2y); color: #beee11; }
.disc-box.reg  { background: var(--disc-reg); color: #ffaaaa; }
.price-free { font-size: 12px; font-weight: 700; color: var(--c-green); }
.price-soon { font-size: 12px; color: var(--c-muted); font-style: italic; }
.price-demo { font-size: 12px; font-weight: 700; color: #a371f7; }

.cat-loader { display:flex; align-items:center; justify-content:center; gap:12px; padding:60px 20px; color:var(--c-muted); }
.spinner { width:22px; height:22px; border:3px solid rgba(88,166,255,.15); border-top-color:var(--c-accent); border-radius:50%; animation:spin .7s linear infinite; }
@keyframes spin { to { transform: rotate(360deg); } }
.cat-empty { text-align:center; padding:50px 20px; color:var(--c-muted); font-size:14px; }
.cat-empty-icon { font-size:44px; margin-bottom:10px; }

/* MODAL */
#gameModal {
  display: none; position: fixed; inset: 0; z-index: 9999;
  background: rgba(0,0,0,.85); backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px);
  overflow-y: auto; overflow-x: hidden; overscroll-behavior: contain;
  padding: 16px; box-sizing: border-box;
  width: 100vw;
}
#gameModal.open { display: block; }
.gm-card {
  background: var(--c-surface);
  width: 100%; max-width: 860px;
  border-radius: 12px; border: 1px solid var(--c-border);
  box-shadow: 0 24px 64px rgba(0,0,0,.8);
  position: relative; overflow: hidden;
  margin: 0 auto; box-sizing: border-box;
  animation: modalIn .25s cubic-bezier(.22,1,.36,1);
}
.gm-body > * { min-width: 0; box-sizing: border-box; }
@keyframes modalIn { from{opacity:0;transform:translateY(18px) scale(.97);} to{opacity:1;transform:translateY(0) scale(1);} }
.gm-close {
  position:absolute; top:10px; right:10px; z-index:20;
  background:rgba(0,0,0,.6); border:1px solid rgba(255,255,255,.12); color:#ccc;
  width:32px; height:32px; border-radius:50%; cursor:pointer; font-size:15px;
  display:flex; align-items:center; justify-content:center; transition:all .2s;
}
.gm-close:hover { background:rgba(255,255,255,.2); color:#fff; }

/* –ë–∞–Ω–µ—Ä —Ç–æ–Ω–∫–∏–π */
.gm-banner { position:relative; width:100%; height:100px; overflow:hidden; background:#0a0f18; }
.gm-banner__blur { position:absolute; inset:-16px; background-size:cover; background-position:center; filter:blur(22px) brightness(.3) saturate(1.3); transform:scale(1.1); }
.gm-banner__fade { position:absolute; inset:0; background:linear-gradient(to bottom, transparent 20%, var(--c-surface) 100%); }

/* –®–∞–ø–∫–∞ –∫–∞—Ä—Ç–∫–∏ */
.gm-header { display:flex; gap:14px; padding:0 18px 14px; margin-top:-24px; position:relative; z-index:2; align-items:flex-end; }
.gm-cover { width:120px; height:68px; border-radius:6px; object-fit:cover; flex-shrink:0; border:2px solid rgba(255,255,255,.12); box-shadow:0 4px 14px rgba(0,0,0,.6); }
.gm-header-info { flex:1; min-width:0; }
.gm-title { font-size:clamp(15px,3.5vw,22px); font-weight:800; color:#fff; margin:0 0 7px; line-height:1.2; word-break:break-word; }
.gm-badges { display:flex; flex-wrap:wrap; gap:4px; }
.gm-badge { font-size:10px; font-weight:700; padding:2px 7px; border-radius:4px; text-transform:uppercase; letter-spacing:.3px; }
.gm-badge-ea     { background:rgba(0,87,183,.4);   color:#67c1f5; border:1px solid rgba(0,87,183,.5); }
.gm-badge-free   { background:rgba(63,185,80,.15);  color:#3fb950; border:1px solid rgba(63,185,80,.35); }
.gm-badge-demo   { background:rgba(163,113,247,.15);color:#a371f7; border:1px solid rgba(163,113,247,.35); }
.gm-badge-coming { background:rgba(210,153,34,.15); color:#d29922; border:1px solid rgba(210,153,34,.35); }

.gm-body { display:grid; grid-template-columns:1fr 240px; gap:16px; padding:0 18px 22px; min-width:0; overflow:hidden; }

/* –ì–∞–ª–µ—Ä–µ—è */
.gm-mainview { position:relative; width:100%; max-width:100%; aspect-ratio:16/9; background:#000; border-radius:7px; overflow:hidden; border:1px solid rgba(255,255,255,.06); box-sizing:border-box; touch-action:pan-y; }
.gm-mainview img { width:100%; height:100%; object-fit:contain; display:block; }
.gm-nav { position:absolute; top:50%; transform:translateY(-50%); background:rgba(0,0,0,.65); border:none; color:#aaa; width:30px; height:52px; cursor:pointer; font-size:14px; display:flex; align-items:center; justify-content:center; transition:all .18s; z-index:5; }
.gm-nav:hover { background:rgba(88,166,255,.35); color:#fff; }
.gm-nav-l { left:0; border-radius:0 5px 5px 0; }
.gm-nav-r { right:0; border-radius:5px 0 0 5px; }
.gm-thumbs { display:flex; gap:4px; margin-top:7px; overflow-x:auto; padding-bottom:3px; scrollbar-width:thin; scrollbar-color:#3d6c8d transparent; }
.gm-thumb { width:76px; height:43px; object-fit:cover; flex-shrink:0; border-radius:4px; cursor:pointer; opacity:.5; border:2px solid transparent; transition:all .16s; }
.gm-thumb:hover { opacity:.85; }
.gm-thumb.active { opacity:1; border-color:var(--c-accent); }
.gm-desc { margin-top:12px; font-size:12.5px; line-height:1.65; color:#8b949e; }

/* –¢–µ–≥–∏ ‚Äî –∫–æ–º–ø–∞–∫—Ç–Ω–æ */
.gm-tags { display:flex; flex-wrap:wrap; gap:4px; margin-top:8px; }
.gm-tag { font-size:10px; padding:2px 7px; border-radius:10px; background:rgba(255,255,255,.05); border:1px solid rgba(255,255,255,.08); color:var(--c-muted); }

.gm-side { display:flex; flex-direction:column; gap:10px; }
.gm-meta-box { background:rgba(255,255,255,.03); border:1px solid var(--c-border); border-radius:8px; overflow:hidden; }
.gm-meta-row { display:flex; justify-content:space-between; align-items:flex-start; padding:6px 11px; font-size:12px; border-bottom:1px solid var(--c-border); gap:8px; }
.gm-meta-row:last-child { border-bottom:none; }
.gm-meta-key { color:var(--c-accent); font-weight:600; flex-shrink:0; }
.gm-meta-val { color:var(--c-text); text-align:right; word-break:break-word; max-width:65%; }
.gm-rating-bar { height:3px; background:rgba(255,255,255,.06); border-radius:2px; margin:0 11px 6px; overflow:hidden; }
.gm-rating-fill { height:100%; border-radius:2px; }

.gm-price-box { background:linear-gradient(135deg,rgba(88,166,255,.05),rgba(0,0,0,.25)); border:1px solid var(--c-border); border-radius:8px; padding:13px; }
.gm-price-main { display:flex; align-items:center; gap:7px; flex-wrap:wrap; margin-bottom:3px; }
.gm-price-big   { font-size:26px; font-weight:800; color:#fff; line-height:1; }
.gm-price-old-b { font-size:13px; color:var(--c-muted); text-decoration:line-through; }
.gm-disc-big    { font-size:13px; font-weight:800; padding:2px 7px; border-radius:4px; }
.gm-disc-big.hist { background:var(--disc-hist); color:#fff; }
.gm-disc-big.yr2  { background:var(--disc-2y); color:#beee11; }
.gm-disc-big.reg  { background:var(--disc-reg); color:#ffaaaa; }
.gm-price-label { font-size:20px; font-weight:800; }
.gm-hist-info { font-size:11px; color:var(--c-muted); border-top:1px solid rgba(255,255,255,.06); padding-top:8px; margin-top:7px; line-height:2; }
.gm-hist-val  { color:var(--c-gold); font-weight:700; }
.gm-hist-val2 { color:var(--c-text); font-weight:600; }
.gm-disc-legend { font-size:10px; color:var(--c-muted); margin-top:5px; }
.gm-steam-btn { display:flex; align-items:center; justify-content:center; gap:7px; margin-top:10px; background:linear-gradient(90deg,#1680c8,#0f3d9e); color:#fff; text-decoration:none; padding:11px; border-radius:7px; font-weight:700; font-size:13px; transition:all .2s; border:1px solid rgba(255,255,255,.08); }
.gm-steam-btn:hover { background:linear-gradient(90deg,#2090d8,#1a4dae); box-shadow:0 4px 16px rgba(22,128,200,.4); transform:translateY(-1px); }

.gm-sysreq { grid-column:1/-1; display:grid; grid-template-columns:1fr 1fr; gap:10px; }
.gm-sysreq-col { background:rgba(0,0,0,.22); border:1px solid var(--c-border); border-radius:7px; padding:12px; }
.gm-sysreq-title { font-size:11px; font-weight:700; text-transform:uppercase; letter-spacing:.5px; color:var(--c-muted); margin-bottom:7px; padding-bottom:5px; border-bottom:1px solid var(--c-border); }
.gm-sysreq-text { font-size:11px; color:#8b949e; line-height:1.7; }

/* –ú–û–ë–Ü–õ */
@media (max-width:680px) {
  .cat-wrap { padding:14px 10px 40px; }
  .game-card { flex-direction:column; }
  .gc-img { width:100%; min-height:100px; max-height:140px; border-radius:10px 10px 0 0; }
  .gc-right { flex-direction:row; align-items:center; justify-content:space-between; padding:0 12px 10px; min-width:unset; }
  .gc-body { padding:8px 12px 4px; }
  #gameModal { padding: 0; }
  .gm-card { border-radius:0; width:100%; max-width:100%; }
  .gm-banner { height:80px; }
  .gm-header { margin-top:-20px; padding:0 12px 12px; gap:10px; }
  .gm-cover { width:100px; height:56px; }
  .gm-title { font-size:14px; margin-bottom:5px; }
  .gm-body { grid-template-columns:1fr; padding:0 12px 18px; gap:12px; box-sizing:border-box; width:100%; }
  .gm-mainview { width:100%; max-width:100%; box-sizing:border-box; }
  .gm-sysreq { grid-template-columns:1fr; }
  .gm-price-big { font-size:22px; }
}
@media (max-width:380px) {
  .gm-cover { width:84px; height:47px; }
}
</style>

<div class="cat-wrap">
  <div class="cat-hero">
    <div>
      <h1 class="cat-hero__title">üá∫üá¶ –ö–∞—Ç–∞–ª–æ–≥ —ñ–≥–æ—Ä</h1>
      <p class="cat-hero__sub">–£–∫—Ä–∞—ó–Ω—Å—å–∫—ñ –≤—ñ–¥–µ–æ—ñ–≥—Ä–∏ —É Steam ‚Äî —Ü—ñ–Ω–∏, —Ä–µ–π—Ç–∏–Ω–≥–∏, –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –∑–Ω–∏–∂–æ–∫</p>
    </div>
    <div class="cat-count">–ó–Ω–∞–π–¥–µ–Ω–æ: <span id="resultCount">0</span> —ñ–≥–æ—Ä</div>
  </div>

  <div class="disc-legend">
    <span class="disc-legend__title">–ö–æ–ª—ñ—Ä –∑–Ω–∏–∂–∫–∏:</span>
    <span class="disc-pip disc-pip--hist">–°–∏–Ω—ñ–π = –Ü—Å—Ç. –º—ñ–Ω—ñ–º—É–º üî•</span>
    <span class="disc-pip disc-pip--2y">–ó–µ–ª–µ–Ω–∏–π = –ú—ñ–Ω. –∑–∞ 2 —Ä–æ–∫–∏</span>
    <span class="disc-pip disc-pip--reg">–ß–µ—Ä–≤–æ–Ω–∏–π = –ó–≤–∏—á–∞–π–Ω–∞ –∑–Ω–∏–∂–∫–∞</span>
  </div>

  <div class="cat-toolbar">
    <div class="cat-search-row">
      <input type="text" id="searchInput" class="cat-search" placeholder="–ü–æ—à—É–∫ –∑–∞ –Ω–∞–∑–≤–æ—é...">
      <button class="btn-toggle-filters" id="btnFilters" onclick="toggleFilters()">
        <span>–§—ñ–ª—å—Ç—Ä–∏</span><span class="tf-icon">‚ñæ</span>
      </button>
    </div>
    <div class="cat-filters" id="filterPanel">
      <div class="flt-group">
        <span class="flt-label"><span class="flt-label-icon">üéÆ</span>–ñ–∞–Ω—Ä</span>
        <select id="fltGenre" class="flt-select"><option value="">–í—Å—ñ –∂–∞–Ω—Ä–∏</option></select>
      </div>
      <div class="flt-group">
        <span class="flt-label"><span class="flt-label-icon">üëæ</span>–†–æ–∑—Ä–æ–±–Ω–∏–∫</span>
        <select id="fltDev" class="flt-select"><option value="">–í—Å—ñ —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∏</option></select>
      </div>
      <div class="flt-group">
        <span class="flt-label"><span class="flt-label-icon">üìÖ</span>–†—ñ–∫</span>
        <div style="display:flex;gap:5px;">
          <select id="fltYearFrom" class="flt-select" style="flex:1;padding:8px 5px;font-size:12px;"><option value="">–í—ñ–¥</option></select>
          <select id="fltYearTo"   class="flt-select" style="flex:1;padding:8px 5px;font-size:12px;"><option value="">–î–æ</option></select>
        </div>
      </div>
      <div class="flt-group">
        <span class="flt-label"><span class="flt-label-icon">üí∞</span>–¶—ñ–Ω–∞ (‚Ç¥)</span>
        <div class="flt-price-row">
          <input type="number" id="fltPriceMin" class="flt-input" placeholder="–í—ñ–¥" min="0">
          <input type="number" id="fltPriceMax" class="flt-input" placeholder="–î–æ" min="0">
        </div>
      </div>
      <div class="flt-group">
        <span class="flt-label"><span class="flt-label-icon">‚≠ê</span>–†–µ–π—Ç–∏–Ω–≥ –º—ñ–Ω.</span>
        <div class="flt-range-wrap">
          <input type="range" id="fltRating" class="flt-range" min="0" max="100" value="0">
          <div class="flt-range-val"><span id="fltRatingVal">–ë—É–¥—å-—è–∫–∏–π</span></div>
        </div>
      </div>
      <div class="flt-group">
        <span class="flt-label"><span class="flt-label-icon">üè∑Ô∏è</span>–ó–Ω–∏–∂–∫–∞ –º—ñ–Ω.</span>
        <div class="flt-range-wrap">
          <input type="range" id="fltDiscount" class="flt-range" min="0" max="90" value="0">
          <div class="flt-range-val"><span id="fltDiscountVal">–ë—É–¥—å-—è–∫–∞</span></div>
        </div>
      </div>
      <div class="flt-group" style="grid-column:1/-1;">
        <span class="flt-label"><span class="flt-label-icon">üîñ</span>–¢–µ–≥–∏</span>
        <select id="fltTag" class="flt-select" style="max-width:280px;"><option value="">–í—Å—ñ —Ç–µ–≥–∏</option></select>
      </div>
      <div class="flt-group" style="grid-column:1/-1;">
        <span class="flt-label"><span class="flt-label-icon">üìå</span>–°—Ç–∞—Ç—É—Å</span>
        <div class="flt-chips" id="statusChips">
          <button class="flt-chip active" data-status="">–í—Å—ñ</button>
          <button class="flt-chip" data-status="released">–í–∏–π—à–ª–∏</button>
          <button class="flt-chip" data-status="ea">Early Access</button>
          <button class="flt-chip" data-status="free">–ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω—ñ</button>
          <button class="flt-chip" data-status="demo">Demo</button>
          <button class="flt-chip" data-status="upcoming">–ù–µ–∑–∞–±–∞—Ä–æ–º</button>
          <button class="flt-chip" data-status="histlow">üî• –Ü—Å—Ç. –º—ñ–Ω—ñ–º—É–º</button>
          <button class="flt-chip" data-status="2ylow">üìâ –ú—ñ–Ω. –∑–∞ 2 —Ä–æ–∫–∏</button>
        </div>
      </div>
      <div class="flt-group" style="align-self:end;">
        <button class="btn-reset" onclick="resetFilters()">‚úï –°–∫–∏–Ω—É—Ç–∏ —Ñ—ñ–ª—å—Ç—Ä–∏</button>
      </div>
    </div>
  </div>

  <div class="cat-sort-row">
    <span class="sort-label">–°–æ—Ä—Ç.:</span>
    <button class="sort-btn active" data-sort="title">üî§ –ù–∞–∑–≤–∞ <span class="sort-dir-icon" id="dir-title">‚Üë</span></button>
    <button class="sort-btn" data-sort="rating">‚≠ê –†–µ–π—Ç–∏–Ω–≥ <span class="sort-dir-icon" id="dir-rating"></span></button>
    <button class="sort-btn" data-sort="price">üí∞ –¶—ñ–Ω–∞ <span class="sort-dir-icon" id="dir-price"></span></button>
    <button class="sort-btn" data-sort="year">üìÖ –†—ñ–∫ <span class="sort-dir-icon" id="dir-year"></span></button>
    <button class="sort-btn" data-sort="discount">üè∑Ô∏è –ó–Ω–∏–∂–∫–∞ <span class="sort-dir-icon" id="dir-discount"></span></button>
    <div class="per-page-wrap">
      <span class="sort-label">–ü–æ–∫–∞–∑–∞—Ç–∏:</span>
      <select id="perPageSel" class="per-page-sel">
        <option value="100" selected>100</option>
        <option value="200">200</option>
        <option value="500">500</option>
      </select>
    </div>
  </div>

  <div id="catalogList">
    <div class="cat-loader"><div class="spinner"></div> –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∫–∞—Ç–∞–ª–æ–≥—É...</div>
  </div>

  <!-- PAGINATION -->
  <div id="paginationWrap" class="pagination-wrap" style="display:none"></div>
</div>

<!-- MODAL -->
<div id="gameModal" onclick="handleOverlay(event)">
  <div class="gm-card">
    <button class="gm-close" onclick="closeModal()">‚úï</button>
    <div class="gm-banner">
      <div class="gm-banner__blur" id="gmBg"></div>
      <div class="gm-banner__fade"></div>
    </div>
    <div class="gm-header">
      <img class="gm-cover" id="gmCover" src="" alt="">
      <div class="gm-header-info">
        <h2 class="gm-title" id="gmTitle"></h2>
        <div class="gm-badges" id="gmBadges"></div>
      </div>
    </div>
    <div class="gm-body">
      <div>
        <div class="gm-mainview">
          <button class="gm-nav gm-nav-l" onclick="changeSlide(-1)">&#10094;</button>
          <img id="gmMain" src="" alt="">
          <button class="gm-nav gm-nav-r" onclick="changeSlide(1)">&#10095;</button>
        </div>
        <div class="gm-thumbs" id="gmThumbs"></div>
        <div class="gm-desc" id="gmDesc"></div>
        <div class="gm-tags" id="gmTags"></div>
      </div>
      <div class="gm-side">
        <div class="gm-meta-box" id="gmMeta"></div>
        <div class="gm-price-box" id="gmPrice"></div>
      </div>
      <div class="gm-sysreq" id="gmSys" style="display:none"></div>
    </div>
  </div>
</div>

<script>
const FB_URL="https://dovbushhub-default-rtdb.europe-west1.firebasedatabase.app/games.json";
let games={},currentSort='title',sortDir=1,activeStatus='',screens=[],screenIdx=0;
let currentPage=1, perPage=100, lastFilteredList=[];

async function init(){
  try{
    const CACHE_KEY='uagames_cache';

    function lastUpdateTime(){
      const now=new Date();
      const h=now.getHours()+(now.getMinutes()/60);
      const evening=new Date(now); evening.setHours(20,30,0,0);
      const morning=new Date(now); morning.setHours(7,30,0,0);
      if(h>=20.5) return evening.getTime();
      if(h>=7.5)  return morning.getTime();
      evening.setDate(evening.getDate()-1);
      return evening.getTime();
    }

    const cached=localStorage.getItem(CACHE_KEY);
    if(cached){
      const {ts,data}=JSON.parse(cached);
      if(ts>lastUpdateTime()){
        games=data; buildDropdowns(); render(); return;
      }
    }

    const r=await fetch(FB_URL); games=await r.json();
    localStorage.setItem(CACHE_KEY,JSON.stringify({ts:Date.now(),data:games}));
    buildDropdowns(); render();

  }catch(e){
    document.getElementById('catalogList').innerHTML='<div class="cat-empty"><div class="cat-empty-icon">‚ö†Ô∏è</div>–ù–µ –≤–¥–∞–ª–æ—Å—è –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –∫–∞—Ç–∞–ª–æ–≥.<br><small style="color:var(--c-muted);display:block;margin:6px 0 14px">–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –∑\'—î–¥–Ω–∞–Ω–Ω—è –∑ —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç–æ–º —ñ —Å–ø—Ä–æ–±—É–π—Ç–µ —â–µ —Ä–∞–∑.</small><button onclick="init()" style="background:var(--c-accent);color:#0d1117;border:none;border-radius:7px;padding:9px 20px;font-weight:700;cursor:pointer;font-size:13px">üîÑ –ü–æ–≤—Ç–æ—Ä–∏—Ç–∏</button></div>';
  }
}
function buildDropdowns(){
  const genres=new Set(),tags=new Set(),years=new Set(),devs=new Set();
  Object.values(games).forEach(g=>{
    if(g.genre)g.genre.split(',').forEach(v=>genres.add(v.trim()));
    if(g.tags)g.tags.split(',').forEach(t=>tags.add(t.trim()));
    if(g.devPublisher){const d=g.devPublisher.split(',')[0].trim();if(d)devs.add(d);}
    const y=yearNum(g.releaseDate);if(y)years.add(y);
  });
  fillSel('fltGenre',[...genres].sort());
  fillSel('fltTag',[...tags].sort());
  fillSel('fltDev',[...devs].sort());
  [...years].sort((a,b)=>b-a).forEach(y=>{
    document.getElementById('fltYearFrom').add(new Option(y,y));
    document.getElementById('fltYearTo').add(new Option(y,y));
  });
}
function fillSel(id,arr){const el=document.getElementById(id);arr.forEach(v=>el.add(new Option(v,v)));}

function toggleFilters(){
  const p=document.getElementById('filterPanel'),b=document.getElementById('btnFilters');
  const o=p.classList.toggle('show');b.classList.toggle('active',o);
}
function resetFilters(){
  ['searchInput','fltGenre','fltDev','fltTag','fltYearFrom','fltYearTo','fltPriceMin','fltPriceMax'].forEach(id=>document.getElementById(id).value='');
  document.getElementById('fltRating').value=0;document.getElementById('fltDiscount').value=0;
  document.getElementById('fltRatingVal').textContent='–ë—É–¥—å-—è–∫–∏–π';
  document.getElementById('fltDiscountVal').textContent='–ë—É–¥—å-—è–∫–∞';
  setStatus('');render();
}
document.getElementById('statusChips').addEventListener('click',e=>{
  const c=e.target.closest('.flt-chip');if(!c)return;setStatus(c.dataset.status);render();
});
function setStatus(v){activeStatus=v;document.querySelectorAll('.flt-chip').forEach(c=>c.classList.toggle('active',c.dataset.status===v));}

document.getElementById('fltRating').addEventListener('input',function(){
  document.getElementById('fltRatingVal').textContent=this.value>0?this.value+'%':'–ë—É–¥—å-—è–∫–∏–π';render();
});
document.getElementById('fltDiscount').addEventListener('input',function(){
  document.getElementById('fltDiscountVal').textContent=this.value>0?this.value+'%':'–ë—É–¥—å-—è–∫–∞';render();
});
['searchInput','fltGenre','fltDev','fltTag','fltYearFrom','fltYearTo','fltPriceMin','fltPriceMax'].forEach(id=>
  document.getElementById(id).addEventListener('input',render)
);

document.querySelectorAll('.sort-btn').forEach(btn=>{
  btn.addEventListener('click',()=>{
    const f=btn.dataset.sort;
    sortDir=currentSort===f?sortDir*-1:1;currentSort=f;
    document.querySelectorAll('.sort-btn').forEach(b=>{
      b.classList.toggle('active',b.dataset.sort===f);
      const dirEl=document.getElementById('dir-'+b.dataset.sort);
      if(dirEl)dirEl.textContent='';
    });
    const activeDir=document.getElementById('dir-'+f);
    if(activeDir)activeDir.textContent=sortDir===1?'‚Üë':'‚Üì';
    render();
  });
});

function yearNum(d){const y=new Date(d).getFullYear();return isNaN(y)?0:y;}
function fmtDate(d){return(!d||d==='-')?'TBA':new Date(d).toLocaleDateString('uk-UA');}
function clean(t){return(t||'').replace(/UA_DEV|UA/g,'').trim();}
function stageOf(g){
  const s=(g.stage||'').toLowerCase();
  if(s.includes('upcoming'))return'upcoming';
  if(s.includes('demo'))return'demo';
  if(s.includes('free')||(!g.currentPrice&&!s.includes('early')))return'free';
  if(s.includes('early access'))return'ea';
  return'released';
}
function discClass(g){
  if(g.histLow&&g.histLow>0&&g.currentPrice<=g.histLow)return'hist';
  if(g.low2Y&&g.currentPrice<=g.low2Y)return'yr2';
  return'reg';
}
function ratingCls(r){if(!r)return'none';return r>=80?'green':r>=60?'yellow':'red';}
function ratingColor(r){if(!r)return'#8b949e';return r>=80?'#3fb950':r>=60?'#d29922':'#f85149';}
function ratingLabel(r){if(!r)return'‚Äî';return r>=80?'–î—É–∂–µ –ø–æ–∑–∏—Ç–∏–≤–Ω—ñ':r>=60?'–ó–º—ñ—à–∞–Ω—ñ':'–ü–µ—Ä–µ–≤–∞–∂–Ω–æ –Ω–µ–≥–∞—Ç–∏–≤–Ω—ñ';}

function render(resetPage=true){
  if(resetPage) currentPage=1;
  const q=document.getElementById('searchInput').value.toLowerCase().trim();
  const genre=document.getElementById('fltGenre').value;
  const dev=document.getElementById('fltDev').value;
  const tag=document.getElementById('fltTag').value;
  const yFrom=+document.getElementById('fltYearFrom').value||0;
  const yTo=+document.getElementById('fltYearTo').value||9999;
  const pMin=+document.getElementById('fltPriceMin').value||0;
  const pMax=+document.getElementById('fltPriceMax').value||999999;
  const minR=+document.getElementById('fltRating').value;
  const minD=+document.getElementById('fltDiscount').value;

  let list=Object.values(games).filter(g=>{
    if(!g.title)return false;
    const stage=stageOf(g);const yr=yearNum(g.releaseDate);
    if(activeStatus==='released'&&stage!=='released'&&stage!=='ea')return false;
    if(activeStatus==='ea'&&stage!=='ea')return false;
    if(activeStatus==='free'&&stage!=='free')return false;
    if(activeStatus==='demo'&&stage!=='demo')return false;
    if(activeStatus==='upcoming'&&stage!=='upcoming')return false;
    if(activeStatus==='histlow'){if(!g.histLow||g.currentPrice>g.histLow)return false;}
    if(activeStatus==='2ylow'){if(!g.low2Y||g.currentPrice>g.low2Y)return false;}
    if(q&&!clean(g.title).toLowerCase().includes(q))return false;
    if(genre&&!(g.genre||'').split(',').map(s=>s.trim()).includes(genre))return false;
    if(dev&&!(g.devPublisher||'').split(',')[0].trim().includes(dev))return false;
    if(tag&&!(g.tags||'').includes(tag))return false;
    if(yr&&yFrom&&yr<yFrom)return false;
    if(yr&&yTo&&yr>yTo)return false;
    const fs=['upcoming','demo','free'];
    if(!fs.includes(stage)){const p=g.currentPrice||0;if(p<pMin||p>pMax)return false;}
    if(minR>0&&(g.rating||0)<minR)return false;
    if(minD>0&&(g.discount||0)<minD)return false;
    return true;
  });

  list.sort((a,b)=>{
    let va,vb;
    switch(currentSort){
      case'rating':va=a.rating||0;vb=b.rating||0;break;
      case'price':va=a.currentPrice||0;vb=b.currentPrice||0;break;
      case'year':va=yearNum(a.releaseDate);vb=yearNum(b.releaseDate);break;
      case'discount':va=a.discount||0;vb=b.discount||0;break;
      default:va=clean(a.title).toLowerCase();vb=clean(b.title).toLowerCase();
    }
    return va<vb?-sortDir:va>vb?sortDir:0;
  });

  document.getElementById('resultCount').textContent=list.length;
  if(!list.length){
    document.getElementById('catalogList').innerHTML='<div class="cat-empty"><div class="cat-empty-icon">üîç</div>–ù—ñ—á–æ–≥–æ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ.</div>';
    document.getElementById('paginationWrap').style.display='none';
    return;
  }

  lastFilteredList=list;
  const totalPages=Math.ceil(list.length/perPage);
  if(currentPage>totalPages)currentPage=1;
  const start=(currentPage-1)*perPage;
  const paginated=list.slice(start,start+perPage);

  document.getElementById('catalogList').innerHTML=paginated.map(buildCard).join('');
  renderPagination(totalPages);
}

function renderPagination(totalPages){
  const wrap=document.getElementById('paginationWrap');
  if(totalPages<=1){wrap.style.display='none';return;}
  wrap.style.display='flex';
  const p=currentPage;
  let html='';

  // –ö–Ω–æ–ø–∫–∞ "–ù–∞–∑–∞–¥"
  html+=`<button class="pg-btn" ${p===1?'disabled':''} onclick="goPage(${p-1})" aria-label="–ü–æ–ø–µ—Ä–µ–¥–Ω—è —Å—Ç–æ—Ä—ñ–Ω–∫–∞">&#8592;</button>`;

  // –°—Ç–æ—Ä—ñ–Ω–∫–∏ –∑ ellipsis
  const pages=[];
  for(let i=1;i<=totalPages;i++){
    if(i===1||i===totalPages||Math.abs(i-p)<=2) pages.push(i);
    else if(pages[pages.length-1]!=='...') pages.push('...');
  }
  pages.forEach(pg=>{
    if(pg==='...'){
      html+=`<span class="pg-ellipsis">‚Ä¶</span>`;
    } else {
      html+=`<button class="pg-btn${pg===p?' active':''}" onclick="goPage(${pg})" aria-label="–°—Ç–æ—Ä—ñ–Ω–∫–∞ ${pg}">${pg}</button>`;
    }
  });

  // –ö–Ω–æ–ø–∫–∞ "–í–ø–µ—Ä–µ–¥"
  html+=`<button class="pg-btn" ${p===totalPages?'disabled':''} onclick="goPage(${p+1})" aria-label="–ù–∞—Å—Ç—É–ø–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞">&#8594;</button>`;

  wrap.innerHTML=html;
}

function goPage(n){
  currentPage=n;
  const totalPages=Math.ceil(lastFilteredList.length/perPage);
  if(n<1||n>totalPages)return;
  const start=(n-1)*perPage;
  const paginated=lastFilteredList.slice(start,start+perPage);
  document.getElementById('catalogList').innerHTML=paginated.map(buildCard).join('');
  renderPagination(totalPages);
  document.querySelector('.cat-wrap').scrollIntoView({behavior:'smooth',block:'start'});
}

document.getElementById('perPageSel').addEventListener('change',function(){
  perPage=+this.value; currentPage=1; render();
});

function buildCard(g){
  const stage=stageOf(g);const yr=yearNum(g.releaseDate)||'‚Äî';
  const genre1=(g.genre||'').split(',')[0].trim();
  const rc=ratingCls(g.rating);const dc=discClass(g);
  const ea=stage==='ea'?`<span class="badge-ea">Early Access</span>`:'';
  let ph='';
  if(stage==='upcoming'){ph=`<span class="price-soon">–ù–µ–∑–∞–±–∞—Ä–æ–º</span>`;}
  else if(stage==='demo'){ph=`<span class="price-demo">Demo</span>`;}
  else if(stage==='free'||!g.currentPrice){ph=`<span class="price-free">–ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ</span>`;}
  else if(g.discount>0){ph=`<span class="disc-box ${dc}">-${g.discount}%</span><div class="price-col"><span class="price-old">${g.basePrice} ‚Ç¥</span><span class="price-main">${g.currentPrice} ‚Ç¥</span></div>`;}
  else{ph=`<span class="price-main">${g.currentPrice} ‚Ç¥</span>`;}
  return`<div class="game-card" onclick="openGame('${g.appId}')">
    <img class="gc-img" src="${g.img}" alt="${clean(g.title)}" loading="lazy" onerror="this.style.display='none'">
    <div class="gc-body">
      <div class="gc-title">${clean(g.title)} ${ea}</div>
      <div class="gc-meta">
        ${genre1?`<span class="gc-genre">${genre1}</span>`:''}
        ${yr!=='‚Äî'?`<span class="gc-year">${yr}</span>`:''}
        ${g.rating?`<span class="rating-dot ${rc}">${g.rating}%</span>`:''}
      </div>
    </div>
    <div class="gc-right">${ph}</div>
  </div>`;
}

function openGame(id){
  const g=games[id];if(!g)return;
  screens=(g.screenshots||[]).filter(Boolean);screenIdx=0;
  const stage=stageOf(g);const dc=discClass(g);
  const hero=screens[0]||g.img;
  document.getElementById('gmBg').style.backgroundImage=`url(${hero})`;
  document.getElementById('gmCover').src=g.img;
  document.getElementById('gmCover').alt=clean(g.title);
  document.getElementById('gmTitle').textContent=clean(g.title);
  let badges='';
  if(stage==='ea')badges+=`<span class="gm-badge gm-badge-ea">Early Access</span>`;
  if(stage==='free')badges+=`<span class="gm-badge gm-badge-free">Free to Play</span>`;
  if(stage==='demo')badges+=`<span class="gm-badge gm-badge-demo">Demo</span>`;
  if(stage==='upcoming')badges+=`<span class="gm-badge gm-badge-coming">–ù–µ–∑–∞–±–∞—Ä–æ–º</span>`;
  document.getElementById('gmBadges').innerHTML=badges;
  document.getElementById('gmMain').src=screens[0]||g.img;
  document.getElementById('gmThumbs').innerHTML=screens.map((s,i)=>
    `<img src="${s}" class="gm-thumb${i===0?' active':''}" loading="lazy" onclick="setSlide(${i},this)">`).join('');
  document.getElementById('gmDesc').textContent=g.description||'';
  const tagsEl=document.getElementById('gmTags');
  if(g.tags){
    const tl=g.tags.split(',').map(t=>t.trim()).filter(Boolean).slice(0,8);
    tagsEl.innerHTML=tl.map(t=>`<span class="gm-tag">${t}</span>`).join('');
  }else{tagsEl.innerHTML='';}
  const dp=(g.devPublisher||'').split(',');
  const dev=dp[0]?.trim()||'–ù/–î';const pub=dp[1]?.trim()||dev;
  let dateStr=fmtDate(g.releaseDate);
  if(stage==='upcoming'){const p=(g.stage||'').split(',');if(p.length>1)dateStr=p[1].trim();}
  const rc=ratingColor(g.rating);const rl=ratingLabel(g.rating);
  document.getElementById('gmMeta').innerHTML=`
    <div class="gm-meta-row"><span class="gm-meta-key">–ñ–∞–Ω—Ä</span><span class="gm-meta-val">${g.genre||'–ù/–î'}</span></div>
    <div class="gm-meta-row"><span class="gm-meta-key">–†–æ–∑—Ä–æ–±–Ω–∏–∫</span><span class="gm-meta-val">${dev}</span></div>
    <div class="gm-meta-row"><span class="gm-meta-key">–í–∏–¥–∞–≤–µ—Ü—å</span><span class="gm-meta-val">${pub}</span></div>
    <div class="gm-meta-row"><span class="gm-meta-key">–†–µ–ª—ñ–∑</span><span class="gm-meta-val">${dateStr}</span></div>
    ${g.rating?`<div class="gm-meta-row"><span class="gm-meta-key">–í—ñ–¥–≥—É–∫–∏</span><span class="gm-meta-val" style="color:${rc};font-weight:700">${g.rating}% ‚Äî ${rl}</span></div><div class="gm-rating-bar"><div class="gm-rating-fill" style="width:${g.rating}%;background:${rc}"></div></div>`:''}`;
  let ph='';
  if(stage==='upcoming'){ph=`<div class="gm-price-label" style="color:#d29922">‚è≥ –ù–µ–∑–∞–±–∞—Ä–æ–º</div>`;}
  else if(stage==='demo'){ph=`<div class="gm-price-label" style="color:#a371f7">üéÆ Demo</div>`;}
  else if(stage==='free'||!g.currentPrice){ph=`<div class="gm-price-label" style="color:#3fb950">üÜì –ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ</div>`;}
  else{
    ph=`<div class="gm-price-main">`;
    if(g.discount>0){ph+=`<span class="gm-disc-big ${dc}">-${g.discount}%</span><span class="gm-price-old-b">${g.basePrice} ‚Ç¥</span>`;}
    ph+=`<span class="gm-price-big">${g.currentPrice} ‚Ç¥</span></div>`;
    if(g.histLow){ph+=`<div class="gm-hist-info">–Ü—Å—Ç. –º—ñ–Ω—ñ–º—É–º: <span class="gm-hist-val">${g.histLow} ‚Ç¥</span> (${fmtDate(g.histLowDate)})<br>–ú—ñ–Ω. –∑–∞ 2 —Ä–æ–∫–∏: <span class="gm-hist-val2">${g.low2Y||g.currentPrice} ‚Ç¥</span></div>`;}
    if(g.discount>0){const labels={hist:'üîµ –Ü—Å—Ç. –º—ñ–Ω—ñ–º—É–º',yr2:'üü¢ –ú—ñ–Ω. –∑–∞ 2 —Ä–æ–∫–∏',reg:'üî¥ –ó–≤–∏—á–∞–π–Ω–∞ –∑–Ω–∏–∂–∫–∞'};ph+=`<div class="gm-disc-legend">${labels[dc]||''}</div>`;}
  }
  ph+=`<a href="${g.link}" target="_blank" class="gm-steam-btn"><i class="fab fa-steam"></i> –í—ñ–¥–∫—Ä–∏—Ç–∏ —É Steam</a>`;
  document.getElementById('gmPrice').innerHTML=ph;
  const sysEl=document.getElementById('gmSys');
  if(g.sysReq){
    const[mn,rec]=g.sysReq.split('||');sysEl.style.display='grid';
    sysEl.innerHTML=`<div class="gm-sysreq-col"><div class="gm-sysreq-title">–ú—ñ–Ω—ñ–º–∞–ª—å–Ω—ñ</div><div class="gm-sysreq-text">${(mn||'').replace(/\n/g,'<br>')}</div></div><div class="gm-sysreq-col"><div class="gm-sysreq-title">–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω—ñ</div><div class="gm-sysreq-text">${(rec||'‚Äî').replace(/\n/g,'<br>')}</div></div>`;
  }else{sysEl.style.display='none';}
  const modal=document.getElementById('gameModal');
  modal.classList.add('open');
  document.body.style.overflow='hidden';
  document.documentElement.style.overflowX='hidden';
  modal.scrollTop=0;
}
function setSlide(i,el){
  screenIdx=i;const src=screens[i];
  document.getElementById('gmMain').src=src;
  document.getElementById('gmBg').style.backgroundImage=`url(${src})`;
  document.querySelectorAll('.gm-thumb').forEach(t=>t.classList.remove('active'));
  el.classList.add('active');el.scrollIntoView({behavior:'smooth',block:'nearest',inline:'center'});
}
function changeSlide(step){
  if(!screens.length)return;
  screenIdx=(screenIdx+step+screens.length)%screens.length;
  const src=screens[screenIdx];
  document.getElementById('gmMain').src=src;
  document.getElementById('gmBg').style.backgroundImage=`url(${src})`;
  const thumbs=document.querySelectorAll('.gm-thumb');
  thumbs.forEach(t=>t.classList.remove('active'));
  if(thumbs[screenIdx]){thumbs[screenIdx].classList.add('active');thumbs[screenIdx].scrollIntoView({behavior:'smooth',block:'nearest',inline:'center'});}
}
function closeModal(){
  document.getElementById('gameModal').classList.remove('open');
  document.body.style.overflow='';
  document.documentElement.style.overflowX='';
}
function handleOverlay(e){if(e.target===document.getElementById('gameModal'))closeModal();}
document.addEventListener('keydown',e=>{if(e.key==='Escape')closeModal();});

/* –°–≤–∞–π–ø –¥–ª—è –≥–∞–ª–µ—Ä–µ—ó */
(function(){
  let tx=0,ty=0;
  document.addEventListener('touchstart',e=>{
    const mv=document.getElementById('gmMain');
    if(!mv||!mv.closest('.gm-mainview'))return;
    tx=e.touches[0].clientX;ty=e.touches[0].clientY;
  },{passive:true});
  document.addEventListener('touchend',e=>{
    const mv=document.getElementById('gmMain');
    if(!mv||!mv.closest('.gm-mainview'))return;
    const dx=e.changedTouches[0].clientX-tx;
    const dy=Math.abs(e.changedTouches[0].clientY-ty);
    if(Math.abs(dx)>40&&dy<60){changeSlide(dx<0?1:-1);}
  },{passive:true});
})();

init();
</script>
